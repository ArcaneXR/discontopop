<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Descontopop - Registro de Vendas</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="merchant-dashboard.css">
</head>

<body>
    <div class="container">
        <header class="header">
            <div class="store-name">Minha Loja</div>
            <button class="menu-button" id="menuButton">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 12h18M3 6h18M3 18h18"></path>
                </svg>
            </button>
        </header>

        <main class="main-content">
            <div class="manual-section">
                <div class="form-group">
                    <label for="clientSearch">Clube de Descontos</label>
                    <div class="search-container">
                        <div class="search-input-container">
                            <input type="text" id="clientSearch" class="search-input" placeholder="Nome, telefone ou CPF..." autocomplete="off">
                            <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            </svg>
                        </div>
                        <div class="action-buttons">
                            <button class="action-button" title="Escanear QR Code do Cliente">
                                <span class="material-icons">qr_code_scanner</span>
                            </button>
                            <button class="action-button" title="Adicionar novo cliente">
                                <span class="material-icons">add</span>
                            </button>
                        </div>
                        <div id="searchResults" class="search-results"></div>
                    </div>
                </div>

                <div class="selected-client" id="selectedClient" style="display: none;">
                    <div class="client-profile-card">
                        <div class="client-profile-header">
                            <span id="selectedClientName"></span>
                            <button id="clearClient"><span class="material-icons">close</span></button>
                        </div>
                        <div class="client-profile-info">
                            <div class="client-phone" id="selectedClientPhone"></div>
                            <div class="client-birthdate" id="selectedClientBirthdate"></div>
                        </div>
                    </div>

                    <div class="client-status">
                        <div class="status-item">
                            <span class="status-label">Cupons Ativos:</span>
                            <span class="status-value" id="activeCoupons">0/10</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Participações:</span>
                            <span class="status-value" id="activeCampaigns">2</span>
                        </div>
                    </div>

                    <div class="client-actions">
                        <button class="action-tab active" data-tab="redeem">Resgatar</button>
                        <button class="action-tab" data-tab="add">Adicionar</button>
                    </div>

                    <div class="tab-content" id="redeemTab">
                        <div class="available-campaigns">
                            <h4>Campanhas Disponíveis para Resgate</h4>
                            <div class="campaigns-list" id="redeemableCampaigns">
                                <div class="campaign-item">
                                    <div class="campaign-header">
                                        <div class="campaign-title">Black Friday</div>
                                        <div class="campaign-type">
                                            <i class="material-icons" style="font-size: 16px;">local_offer</i>
                                            Desconto
                                        </div>
                                    </div>
                                    <div class="campaign-details">
                                        <p>Desconto especial de Black Friday</p>
                                        <p>
                                            <i class="material-icons" style="font-size: 16px; color: var(--primary);">local_offer</i>
                                            Desconto de 20%
                                        </p>
                                        <p>
                                            <i class="material-icons" style="font-size: 16px; color: var(--primary);">shopping_cart</i>
                                            Mínimo de compra: R$ 50,00
                                        </p>
                                        <p>
                                            <i class="material-icons" style="font-size: 16px; color: var(--primary);">event</i>
                                            Válido até: 30/11/2024
                                        </p>
                                        <span class="campaign-status status-active">
                                            <i class="material-icons" style="font-size: 16px;">check_circle</i>
                                            Ativa
                                        </span>
                                    </div>
                                </div>

                                <div class="campaign-item">
                                    <div class="campaign-header">
                                        <div class="campaign-title">Aniversário</div>
                                        <div class="campaign-type">
                                            <i class="material-icons" style="font-size: 16px;">local_offer</i>
                                            Desconto
                                        </div>
                                    </div>
                                    <div class="campaign-details">
                                        <p>Cupom especial de aniversário</p>
                                        <p>
                                            <i class="material-icons" style="font-size: 16px; color: var(--primary);">local_offer</i>
                                            Desconto de 15%
                                        </p>
                                        <p>
                                            <i class="material-icons" style="font-size: 16px; color: var(--primary);">shopping_cart</i>
                                            Mínimo de compra: R$ 30,00
                                        </p>
                                        <p>
                                            <i class="material-icons" style="font-size: 16px; color: var(--primary);">event</i>
                                            Válido até: 31/12/2024
                                        </p>
                                        <span class="campaign-status status-active">
                                            <i class="material-icons" style="font-size: 16px;">check_circle</i>
                                            Ativa
                                        </span>
                                    </div>
                                </div>

                                <div class="campaign-item">
                                    <div class="campaign-header">
                                        <div class="campaign-title">Primeira Compra</div>
                                        <div class="campaign-type">
                                            <i class="material-icons" style="font-size: 16px;">local_offer</i>
                                            Desconto
                                        </div>
                                    </div>
                                    <div class="campaign-details">
                                        <p>Desconto para primeira compra</p>
                                        <p>
                                            <i class="material-icons" style="font-size: 16px; color: var(--primary);">local_offer</i>
                                            Desconto de 10%
                                        </p>
                                        <p>
                                            <i class="material-icons" style="font-size: 16px; color: var(--primary);">shopping_cart</i>
                                            Mínimo de compra: R$ 20,00
                                        </p>
                                        <p>
                                            <i class="material-icons" style="font-size: 16px; color: var(--primary);">event</i>
                                            Válido até: 15/12/2024
                                        </p>
                                        <span class="campaign-status status-active">
                                            <i class="material-icons" style="font-size: 16px;">check_circle</i>
                                            Ativa
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-content" id="addTab" style="display: none;">
                        <div class="available-campaigns">
                            <h4>Campanhas Disponíveis para Adicionar</h4>
                            <div class="campaigns-list" id="availableCampaigns">
                                <!-- Campanhas disponíveis serão adicionadas aqui -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="promotion-type">
                <div class="promotion-option" data-type="discount">
                    <div class="icon">%</div>
                    <div>Desconto</div>
                </div>
                <div class="promotion-option" data-type="points">
                    <div class="icon">★</div>
                    <div>Pontos</div>
                </div>
            </div>

            <div class="campaigns-list" id="campaignsList">
                <!-- Campaigns will be populated here -->
            </div>

            <div class="promotion-inputs" id="discountInputs">
                <div class="product-options">
                    <div class="product-option" data-type="scan">
                        <div class="icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 7V3h4M3 17v4h4M21 7V3h-4M21 17v4h-4M7 3h10M7 21h10M3 7h18M3 17h18">
                                </path>
                            </svg>
                        </div>
                        <div class="title">Escanear Produto</div>
                        <div class="description">Use a câmera para escanear o código do produto</div>
                    </div>
                    <div class="product-option" data-type="manual">
                        <div class="icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 5v14M5 12h14"></path>
                            </svg>
                        </div>
                        <div class="title">Adicionar Manualmente</div>
                        <div class="description">Digite os dados do produto</div>
                    </div>
                </div>

                <div class="scan-section" id="scanSection">
                    <h4>Escanear Código do Produto</h4>
                    <div class="scan-preview">
                        Posicione o código na câmera
                    </div>
                    <button class="scan-button">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M3 7V3h4M3 17v4h4M21 7V3h-4M21 17v4h-4M7 3h10M7 21h10M3 7h18M3 17h18"></path>
                        </svg>
                        Iniciar Escaneamento
                    </button>
                </div>

                <div class="manual-input" id="manualInput">
                    <div class="product-fields">
                        <div class="form-group">
                            <label for="productName">Nome do Produto</label>
                            <input type="text" id="productName" placeholder="Digite o nome do produto">
                        </div>
                        <div class="form-group">
                            <label for="productCode">Código do Produto</label>
                            <input type="text" id="productCode" placeholder="Digite o código do produto">
                        </div>
                        <div class="form-group">
                            <label for="productPrice">Preço (R$)</label>
                            <input type="number" id="productPrice" step="0.01" min="0" placeholder="0,00">
                        </div>
                    </div>
                    <button class="btn btn-primary" id="addProductButton">Adicionar Produto</button>
                </div>

                <div class="product-list" id="productList">
                    <!-- Products will be added here -->
                </div>
            </div>

            <div class="promotion-inputs" id="pointsInputs">
                <div class="points-info">
                    <div>Pontos Atuais</div>
                    <div class="current-points" id="currentPoints">0</div>
                </div>
            </div>

            <button class="btn btn-primary" id="registerSale">Registrar</button>

            <!-- DASHBOARD INÍCIO -->
            <div class="dashboard-stats space-y-2">
                <div class="dashboard-row">
                    <div class="dashboard-card shadow-sm rounded-md bg-white px-4 py-3 flex flex-col items-center">
                        <span class="material-icons dashboard-icon w-4 h-4">groups</span>
                        <div class="dashboard-value text-base font-semibold">120</div>
                        <div class="dashboard-label text-xs">Total de Clientes</div>
                    </div>
                    <div class="dashboard-card shadow-sm rounded-md bg-white px-4 py-3 flex flex-col items-center">
                        <span class="material-icons dashboard-icon w-4 h-4">confirmation_number</span>
                        <div class="dashboard-value text-base font-semibold">45</div>
                        <div class="dashboard-label text-xs">Cupons Ativos</div>
                    </div>
                </div>
                <div class="dashboard-row">
                    <div class="dashboard-card shadow-sm rounded-md bg-white px-4 py-3 flex flex-col items-center">
                        <span class="material-icons dashboard-icon w-4 h-4">campaign</span>
                        <div class="dashboard-value text-base font-semibold">8</div>
                        <div class="dashboard-label text-xs">Participações</div>
                    </div>
                    <div class="dashboard-card shadow-sm rounded-md bg-white px-4 py-3 flex flex-col items-center">
                        <span class="material-icons dashboard-icon w-4 h-4">redeem</span>
                        <div class="dashboard-value text-base font-semibold">32</div>
                        <div class="dashboard-label text-xs">Vouchers Resgatados</div>
                    </div>
                </div>
            </div>
            <h2 class="text-xs font-medium text-gray-500 mt-4 mb-2 uppercase tracking-wide">Ações Rápidas</h2>
            <div class="dashboard-actions flex flex-col items-center gap-4 sm:flex-row sm:justify-center max-w-screen-sm mx-auto">
                <button class="action-btn-modern h-10 sm:h-11 px-4 sm:px-5 rounded-md bg-pink-500 text-white text-sm sm:text-base font-semibold flex items-center gap-2 justify-center hover:bg-pink-600 transition-all duration-200 ease-in-out w-full sm:w-fit">
                    <span class="material-icons w-5 h-5">add_circle</span>Nova Campanha
                </button>
                <button class="action-btn-modern h-10 sm:h-11 px-4 sm:px-5 rounded-md border border-pink-300 text-pink-600 bg-white text-sm sm:text-base font-semibold flex items-center gap-2 justify-center hover:bg-pink-50 transition-all duration-200 ease-in-out w-full sm:w-fit">
                    <span class="material-icons w-5 h-5">notifications</span>Enviar Notificação
                </button>
                <button class="action-btn-modern h-10 sm:h-11 px-4 sm:px-5 rounded-md bg-pink-50 text-pink-600 text-sm sm:text-base font-semibold flex items-center gap-2 justify-center hover:bg-pink-100 transition-all duration-200 ease-in-out w-full sm:w-fit">
                    <span class="material-icons w-5 h-5">visibility</span>Ver Campanhas
                </button>
            </div>
            <!-- DASHBOARD FIM -->
        </main>
    </div>

    <footer class="footer">
        <div class="app-name">Descontopop</div>
    </footer>

    <div class="menu-overlay" id="menuOverlay"></div>
    <div class="menu-content" id="menuContent">
        <nav>
            <ul class="menu-list">
                <li><a href="#" data-i18n="common.dashboard">Dashboard</a></li>
                <li><a href="#" data-i18n="common.campaigns">Campanhas</a></li>
                <li><a href="#" data-i18n="common.clients">Clientes</a></li>
                <li><a href="#" data-i18n="common.reports">Relatórios</a></li>
            </ul>
        </nav>
    </div>

    <!-- Modal de Gerenciamento de Pontos -->
    <div class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Gerenciar Pontos e Cupons</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="points-actions">
                    <div class="action-buttons">
                        <button class="action-btn add-points" data-action="add-points">
                            <i class="material-icons">add</i>
                            Adicionar Pontos
                        </button>
                        <button class="action-btn remove-points" data-action="remove-points">
                            <i class="material-icons">remove</i>
                            Remover Pontos
                        </button>
                        <button class="action-btn add-coupon" data-action="add-coupon">
                            <i class="material-icons">local_offer</i>
                            Adicionar Cupom
                        </button>
                        <button class="action-btn remove-coupon" data-action="remove-coupon">
                            <i class="material-icons">delete</i>
                            Remover Cupom
                        </button>
                    </div>

                    <div class="action-group add-points-group" style="display: none;">
                        <div class="input-group">
                            <label for="addPointsAmount">Quantidade de Pontos</label>
                            <input type="number" id="addPointsAmount" min="1" placeholder="Digite a quantidade">
                        </div>
                        <div class="input-group">
                            <label for="addPointsReason">Motivo</label>
                            <input type="text" id="addPointsReason" placeholder="Digite o motivo">
                        </div>
                        <div class="action-buttons">
                            <button class="confirm-action">Confirmar</button>
                            <button class="cancel-action">Cancelar</button>
                        </div>
                    </div>

                    <div class="action-group remove-points-group" style="display: none;">
                        <div class="input-group">
                            <label for="removePointsAmount">Quantidade de Pontos</label>
                            <input type="number" id="removePointsAmount" min="1" placeholder="Digite a quantidade">
                        </div>
                        <div class="input-group">
                            <label for="removePointsReason">Motivo</label>
                            <input type="text" id="removePointsReason" placeholder="Digite o motivo">
                        </div>
                        <div class="action-buttons">
                            <button class="confirm-action">Confirmar</button>
                            <button class="cancel-action">Cancelar</button>
                        </div>
                    </div>

                    <div class="action-group add-coupon-group" style="display: none;">
                        <div class="input-group">
                            <label for="addCouponValue">Valor do Cupom (%)</label>
                            <input type="number" id="addCouponValue" min="1" max="100" placeholder="Digite o valor">
                        </div>
                        <div class="input-group">
                            <label for="addCouponReason">Motivo</label>
                            <input type="text" id="addCouponReason" placeholder="Digite o motivo">
                        </div>
                        <div class="action-buttons">
                            <button class="confirm-action">Confirmar</button>
                            <button class="cancel-action">Cancelar</button>
                        </div>
                    </div>

                    <div class="action-group remove-coupon-group" style="display: none;">
                        <div class="input-group">
                            <label for="removeCouponValue">Valor do Cupom (%)</label>
                            <input type="number" id="removeCouponValue" min="1" max="100" placeholder="Digite o valor">
                        </div>
                        <div class="input-group">
                            <label for="removeCouponReason">Motivo</label>
                            <input type="text" id="removeCouponReason" placeholder="Digite o motivo">
                        </div>
                        <div class="action-buttons">
                            <button class="confirm-action">Confirmar</button>
                            <button class="cancel-action">Cancelar</button>
                        </div>
                    </div>
                </div>

                <div class="history-section">
                    <div class="history-filters">
                        <select id="historyFilter">
                            <option value="all">Todas as Transações</option>
                            <option value="points">Apenas Pontos</option>
                            <option value="coupons">Apenas Cupons</option>
                        </select>
                    </div>
                    <div class="history-list">
                        <!-- O histórico será preenchido dinamicamente via JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="merchant-dashboard.js"></script>
</body>

</html>